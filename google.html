<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Gerador BTC Testnet</title>

<!-- Dependências corretas -->
<script src="https://unpkg.com/tiny-secp256k1@2.2.1/dist/index.min.js"></script>
<script src="https://unpkg.com/ecpair@2.1.0/dist/ecpair.min.js"></script>
<script src="https://unpkg.com/bitcoinjs-lib@6.1.0/browser.js"></script>

<style>
body {
  font-family: monospace;
  background: #020617;
  color: #e5e7eb;
  padding: 20px;
}
button {
  padding: 10px;
  font-size: 14px;
}
pre {
  background: #0f172a;
  padding: 10px;
  max-height: 500px;
  overflow: auto;
}
</style>
</head>
<body>

<h2>Gerar Endereços BTC (TESTNET)</h2>

<button onclick="processar()">Gerar Endereços</button>

<pre id="saida"></pre>

<script>
const URL_LISTA =
  "https://raw.githubusercontent.com/paraguay10/py/main/lista.txt";

const ECPair = ECPairFactory(tinysecp);

async function processar() {
  const out = document.getElementById("saida");
  out.textContent = "Carregando lista...\n";

  const txt = await fetch(URL_LISTA).then(r => r.text());
  const linhas = txt.split("\n");

  out.textContent = "";

  linhas.forEach((priv, i) => {
    priv = priv.trim();

    if (priv.length !== 64) {
      out.textContent += `${i+1}) TAMANHO INVÁLIDO\n`;
      return;
    }

    try {
      const keyPair = ECPair.fromPrivateKey(
        Buffer.from(priv, "hex"),
        { network: bitcoin.networks.testnet }
      );

      const { address } = bitcoin.payments.p2pkh({
        pubkey: keyPair.publicKey,
        network: bitcoin.networks.testnet
      });

      out.textContent +=
        `${i+1}) ${priv} -> ${address}\n`;

    } catch (e) {
      out.textContent += `${i+1}) ERRO NA KEY\n`;
    }
  });
}
</script>

</body>
</html>
